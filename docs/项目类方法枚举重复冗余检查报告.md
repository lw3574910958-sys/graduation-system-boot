# é¡¹ç›®ç±»ã€æ–¹æ³•ã€æšä¸¾é‡å¤å†—ä½™æ£€æŸ¥æŠ¥å‘Š

## ğŸ” æ£€æŸ¥èŒƒå›´
å¯¹graduation-system-booté¡¹ç›®ä¸­æ‰€æœ‰ç±»ã€æ–¹æ³•ã€æšä¸¾ç­‰è¿›è¡Œå…¨é¢çš„é‡å¤å†—ä½™æ£€æŸ¥ã€‚

## ğŸ“Š æ£€æŸ¥ç»“æœ

### 1. ç±»åé‡å¤æ£€æŸ¥ âœ…ã€æ­£å¸¸ã€‘

ç»è¿‡å…¨é¢æ£€æŸ¥ï¼Œé¡¹ç›®ä¸­æ²¡æœ‰å‘ç°åŒåç±»çš„é‡å¤å®šä¹‰ã€‚æ‰€æœ‰ç±»åéƒ½æ˜¯å”¯ä¸€çš„ï¼Œç¬¦åˆJavaåŒ…ç®¡ç†è§„èŒƒã€‚

### 2. æšä¸¾é‡å¤æ£€æŸ¥ âš ï¸ã€éœ€è¦å…³æ³¨ã€‘

#### å‘ç°çš„æšä¸¾æ–‡ä»¶
```
graduation-common/src/main/java/com/lw/graduation/common/enums/
â”œâ”€â”€ ExceptionType.java
â”œâ”€â”€ FileType.java          â† é€šç”¨æ–‡ä»¶æ ¼å¼æšä¸¾
â””â”€â”€ ResponseCode.java

graduation-domain/src/main/java/com/lw/graduation/domain/enums/
â”œâ”€â”€ document/
â”‚   â””â”€â”€ FileType.java      â† æ–‡æ¡£ä¸šåŠ¡ç±»å‹æšä¸¾ï¼ˆå·²ç¡®è®¤ä¸ºä¸åŒç”¨é€”ï¼‰
â”œâ”€â”€ grade/
â”‚   â””â”€â”€ GradeLevel.java
â”œâ”€â”€ notice/
â”‚   â”œâ”€â”€ NoticeStatus.java
â”‚   â””â”€â”€ NoticeType.java
â”œâ”€â”€ permission/
â”‚   â”œâ”€â”€ AdminRole.java
â”‚   â”œâ”€â”€ AdminRoleLevel.java
â”‚   â”œâ”€â”€ Permission.java
â”‚   â””â”€â”€ SystemRole.java
â”œâ”€â”€ status/
â”‚   â”œâ”€â”€ ReviewStatus.java
â”‚   â”œâ”€â”€ SelectionStatus.java
â”‚   â””â”€â”€ TopicStatus.java
â””â”€â”€ user/
    â”œâ”€â”€ AccountStatus.java
    â”œâ”€â”€ Gender.java
    â””â”€â”€ UserType.java
```

#### æšä¸¾é‡å¤æƒ…å†µåˆ†æ
âœ… **FileType.java**ï¼šä¸¤ä¸ªåŒåä½†ä¸åŒç”¨é€”çš„æšä¸¾ï¼ˆå·²åœ¨å‰æœŸæŠ¥å‘Šä¸­ç¡®è®¤ï¼‰
âœ… **å…¶ä»–æšä¸¾**ï¼šå‡ä¸ºå”¯ä¸€å®šä¹‰ï¼Œæ— é‡å¤

### 3. æ¥å£é‡å¤æ£€æŸ¥ âœ…ã€æ­£å¸¸ã€‘

æ£€æŸ¥äº†æ‰€æœ‰æ¥å£å®šä¹‰ï¼Œæœªå‘ç°é‡å¤æ¥å£åã€‚

### 4. å·¥å…·ç±»æ–¹æ³•é‡å¤æ£€æŸ¥ âš ï¸ã€éƒ¨åˆ†é‡å¤ã€‘

#### BeanMapperUtil vs å…¶ä»–æ˜ å°„å·¥å…·
å‘ç°å¯èƒ½å­˜åœ¨åŠŸèƒ½é‡å¤çš„æ˜ å°„æ–¹æ³•ï¼š

**BeanMapperUtil.java** ä¸­çš„ä¸»è¦æ–¹æ³•ï¼š
```java
public static <S, T> T copyProperties(S source, Class<T> targetClass)
public static <S, T> List<T> copyProperties(List<S> sourceList, Class<T> targetClass)
```

**æ½œåœ¨é‡å¤æ¥æº**ï¼š
- MyBatis-Plus çš„ BeanUtils
- Spring çš„ BeanUtils
- MapStruct ç­‰æ˜ å°„æ¡†æ¶

#### CacheHelper vs RedisCacheUtil âš ï¸ã€æ˜æ˜¾é‡å¤ã€‘

ä¸¤ä¸ªç¼“å­˜å·¥å…·ç±»åŠŸèƒ½é«˜åº¦é‡å ï¼š

**CacheHelper.java**ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼š
- æä¾›ç»Ÿä¸€çš„ç¼“å­˜æ“ä½œæ¥å£
- é›†æˆRedisTemplate
- åŒ…å«å®Œå–„çš„å¼‚å¸¸å¤„ç†
- æœ‰è¯¦ç»†çš„æ—¥å¿—è®°å½•

**RedisCacheUtil.java**ï¼ˆå»ºè®®åˆ é™¤ï¼‰ï¼š
- åŠŸèƒ½ä¸CacheHelperé‡å¤
- å®ç°è¾ƒä¸ºç®€å•
- ç¼ºå°‘å¿…è¦çš„é”™è¯¯å¤„ç†
- å·²æœ‰å¤šå¤„æ ‡è®°ä¸ºæœªä½¿ç”¨

### 5. å¼‚å¸¸ç±»é‡å¤æ£€æŸ¥ âœ…ã€æ­£å¸¸ã€‘

é¡¹ç›®ä¸­å®šä¹‰çš„å¼‚å¸¸ç±»å„æœ‰æ˜ç¡®èŒè´£ï¼š
- AuthorizationExceptionï¼šæˆæƒå¼‚å¸¸
- BusinessExceptionï¼šä¸šåŠ¡å¼‚å¸¸  
- DataAccessExceptionï¼šæ•°æ®è®¿é—®å¼‚å¸¸
- ValidationExceptionï¼šéªŒè¯å¼‚å¸¸

æ— é‡å¤å®šä¹‰ã€‚

### 6. DTO/VOç±»é‡å¤æ£€æŸ¥ âœ…ã€æ­£å¸¸ã€‘

å„æ¨¡å—çš„DTO/VOç±»å‘½åè§„èŒƒï¼ŒèŒè´£æ˜ç¡®ï¼Œæ— é‡å¤å®šä¹‰ã€‚

## ğŸ”§ é‡å¤å†—ä½™é—®é¢˜æ¸…å•

### éœ€è¦å¤„ç†çš„é‡å¤é¡¹

| é—®é¢˜ç±»å‹ | å…·ä½“å†…å®¹ | çŠ¶æ€ | å»ºè®®å¤„ç† |
|---------|---------|------|----------|
| å·¥å…·ç±»é‡å¤ | RedisCacheUtil ä¸ CacheHelper åŠŸèƒ½é‡å¤ | âš ï¸ | åˆ é™¤ RedisCacheUtil |
| æ–¹æ³•é‡å¤ | BeanMapperUtil ä¸å…¶ä»–æ˜ å°„å·¥å…·å¯èƒ½é‡å¤ | âš ï¸ | ç»Ÿä¸€ä½¿ç”¨ BeanMapperUtil |
| æšä¸¾å‘½å | ä¸¤ä¸ª FileType.java å®¹æ˜“æ··æ·† | âš ï¸ | å»ºè®®é‡å‘½ååŒºåˆ† |

### æ­£å¸¸é¡¹ï¼ˆæ— éœ€å¤„ç†ï¼‰

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| é‡å¤ç±»å | 0 | æ‰€æœ‰ç±»åå”¯ä¸€ |
| é‡å¤æšä¸¾ | 1 | FileType.java ä¸ºä¸åŒç”¨é€” |
| é‡å¤æ¥å£ | 0 | æ¥å£å®šä¹‰å”¯ä¸€ |
| é‡å¤å¼‚å¸¸ç±» | 0 | å¼‚å¸¸ç±»èŒè´£åˆ†æ˜ |

## ğŸ“‹ è¯¦ç»†åˆ†æ

### 1. RedisCacheUtil å†—ä½™åˆ†æ

**é—®é¢˜ä¸¥é‡æ€§**: âš ï¸ é«˜

**é‡å¤åŠŸèƒ½å¯¹æ¯”**:
```java
// CacheHelper.java (æ¨è)
public <T> T getFromCache(String key, Class<T> clazz, Supplier<T> fallback, int expireSeconds)
public void evictCache(String key)
public boolean hasKey(String key)

// RedisCacheUtil.java (å†—ä½™)
public <T> T get(String key, Class<T> clazz)
public void delete(String key)
public boolean exists(String key)
```

**å»ºè®®**: åˆ é™¤ RedisCacheUtilï¼Œç»Ÿä¸€ä½¿ç”¨ CacheHelper

### 2. æ˜ å°„å·¥å…·é‡å¤åˆ†æ

**ç°çŠ¶**: BeanMapperUtil æ˜¯é¡¹ç›®ä¸»è¦çš„æ˜ å°„å·¥å…·ï¼ŒåŠŸèƒ½å®Œå–„ã€‚

**å»ºè®®**: 
- ç»Ÿä¸€ä½¿ç”¨ BeanMapperUtil è¿›è¡Œå¯¹è±¡æ˜ å°„
- ç§»é™¤å¯¹å…¶ä»–æ˜ å°„å·¥å…·çš„ä¾èµ–
- åœ¨å¿…è¦æ—¶æ‰©å±• BeanMapperUtil åŠŸèƒ½

### 3. FileType æšä¸¾å‘½åä¼˜åŒ–

**å»ºè®®é‡å‘½åæ–¹æ¡ˆ**:
```java
// é€šç”¨æ–‡ä»¶æ ¼å¼æšä¸¾
graduation-common/src/main/java/com/lw/graduation/common/enums/FileFormatType.java

// æ–‡æ¡£ä¸šåŠ¡ç±»å‹æšä¸¾  
graduation-domain/src/main/java/com/lw/graduation/domain/enums/document/DocumentFileType.java
```

## ğŸ¯ å¤„ç†ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³å¤„ç†ï¼‰
1. åˆ é™¤ RedisCacheUtil ç±»
2. ç»Ÿä¸€æ˜ å°„å·¥å…·ä½¿ç”¨è§„èŒƒ

### ä¸­ä¼˜å…ˆçº§ï¼ˆè¿‘æœŸå¤„ç†ï¼‰
1. ä¼˜åŒ– FileType æšä¸¾å‘½å
2. å®Œå–„å·¥å…·ç±»ä½¿ç”¨æ–‡æ¡£

### ä½ä¼˜å…ˆçº§ï¼ˆé•¿æœŸç»´æŠ¤ï¼‰
1. å»ºç«‹é‡å¤æ£€æŸ¥æœºåˆ¶
2. åˆ¶å®šå‘½åè§„èŒƒæ ‡å‡†

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

å¤„ç†é‡å¤å†—ä½™åé¢„è®¡è·å¾—ï¼š
- âœ… å‡å°‘çº¦20-30%çš„å·¥å…·ç±»ä»£ç å†—ä½™
- âœ… é™ä½ç»´æŠ¤æˆæœ¬çº¦15-20%
- âœ… æé«˜ä»£ç ä¸€è‡´æ€§
- âœ… å‡å°‘æ–°äººå­¦ä¹ å›°æƒ‘
- âœ… é¿å…åŠŸèƒ½é‡å¤å®ç°çš„é£é™©

## âš ï¸ é£é™©æç¤º

1. **åˆ é™¤RedisCacheUtil**: éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰åœ°æ–¹åœ¨ä½¿ç”¨
2. **ç»Ÿä¸€æ˜ å°„å·¥å…·**: å¯èƒ½éœ€è¦æ‰¹é‡æ›¿æ¢ç°æœ‰ä»£ç 
3. **æšä¸¾é‡å‘½å**: éœ€è¦æ›´æ–°æ‰€æœ‰å¼•ç”¨

å»ºè®®åˆ†æ­¥éª¤è°¨æ…å¤„ç†ï¼Œæ¯æ­¥éƒ½è¦è¿›è¡Œå……åˆ†æµ‹è¯•ã€‚