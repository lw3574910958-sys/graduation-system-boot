# æ˜ å°„å·¥å…·ç»Ÿä¸€å’Œæšä¸¾é‡å‘½åå¤„ç†æ–¹æ¡ˆ

## ğŸ¯ å¤„ç†ç›®æ ‡

1. **ç»Ÿä¸€æ˜ å°„å·¥å…·ä½¿ç”¨**ï¼šå°†é¡¹ç›®ä¸­åˆ†æ•£çš„æ˜ å°„å·¥å…·è°ƒç”¨ç»Ÿä¸€åˆ°BeanMapperUtil
2. **ä¼˜åŒ–æšä¸¾å‘½å**ï¼šè§£å†³ä¸¤ä¸ªFileType.javaæšä¸¾çš„å‘½åæ··æ·†é—®é¢˜

## ğŸ“‹ å½“å‰çŠ¶æ€åˆ†æ

### æ˜ å°„å·¥å…·ç°çŠ¶
- **BeanMapperUtil**ï¼šé¡¹ç›®ä¸»è¦æ˜ å°„å·¥å…·ï¼Œå·²è¢«11å¤„ä½¿ç”¨
- **å…¶ä»–æ˜ å°„å·¥å…·**ï¼šSpring BeanUtilsã€MyBatis-Plus BeanUtilsç­‰é›¶æ˜Ÿä½¿ç”¨
- **é—®é¢˜**ï¼šå·¥å…·åˆ†æ•£ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼Œå®¹æ˜“é€ æˆæ··æ·†

### æšä¸¾å‘½åç°çŠ¶
- **graduation-common/FileType.java**ï¼šæ–‡ä»¶æ ¼å¼ç±»å‹æšä¸¾ï¼ˆJPGã€PDFç­‰ï¼‰
- **graduation-domain/document/FileType.java**ï¼šæ–‡æ¡£ä¸šåŠ¡ç±»å‹æšä¸¾ï¼ˆå¼€é¢˜æŠ¥å‘Šã€ä¸­æœŸæŠ¥å‘Šç­‰ï¼‰
- **é—®é¢˜**ï¼šåŒåæšä¸¾å®¹æ˜“é€ æˆå¼•ç”¨æ··æ·†

## ğŸ”§ å¤„ç†æ–¹æ¡ˆ

### 1. æ˜ å°„å·¥å…·ç»Ÿä¸€æ–¹æ¡ˆ

#### æ‰§è¡Œæ­¥éª¤
```bash
# 1. ç»Ÿè®¡å½“å‰æ˜ å°„å·¥å…·ä½¿ç”¨æƒ…å†µ
Get-ChildItem -Recurse -Include "*.java" | Select-String -Pattern "import.*BeanUtils" | Where-Object { $_.Line -notmatch "com.lw.graduation.common.util.BeanMapperUtil" }

# 2. è¯†åˆ«éœ€è¦æ›¿æ¢çš„ä»£ç æ¨¡å¼
# Spring BeanUtils.copyProperties(source, target)
# MyBatisPlus BeanUtils.copyProperties(source, target)

# 3. æ‰¹é‡æ›¿æ¢ä¸ºBeanMapperUtil
# BeanMapperUtil.copyProperties(source, target.getClass())
```

#### æ›¿æ¢è§„åˆ™
```java
// åŸä»£ç 
import org.springframework.beans.BeanUtils;
BeanUtils.copyProperties(source, target);

// æ›¿æ¢ä¸º
import com.lw.graduation.common.util.BeanMapperUtil;
target = BeanMapperUtil.copyProperties(source, target.getClass());

// æˆ–è€…
import com.lw.graduation.common.util.BeanMapperUtil;
TargetType newTarget = BeanMapperUtil.copyProperties(source, TargetType.class);
```

### 2. æšä¸¾é‡å‘½åæ–¹æ¡ˆ

#### å‘½åå»ºè®®
```
åŸåç§°ï¼šFileType.java
æ–°åç§°æ–¹æ¡ˆï¼š
- é€šç”¨ç‰ˆæœ¬ï¼šFileFormatType.java (graduation-common)
- æ–‡æ¡£ç‰ˆæœ¬ï¼šDocumentFileType.java (graduation-domain/document)
```

#### æ‰§è¡Œæ­¥éª¤
```bash
# 1. é‡å‘½åæ–‡ä»¶
mv graduation-common/src/main/java/com/lw/graduation/common/enums/FileType.java \
   graduation-common/src/main/java/com/lw/graduation/common/enums/FileFormatType.java
   
mv graduation-domain/src/main/java/com/lw/graduation/domain/enums/document/FileType.java \
   graduation-domain/src/main/java/com/lw/graduation/domain/enums/document/DocumentFileType.java

# 2. æ›´æ–°ç±»å
# åœ¨å„è‡ªæ–‡ä»¶ä¸­å°†ç±»åæ”¹ä¸ºå¯¹åº”çš„FileFormatTypeå’ŒDocumentFileType

# 3. æ‰¹é‡æ›´æ–°å¯¼å…¥è¯­å¥
# æŸ¥æ‰¾å¹¶æ›¿æ¢æ‰€æœ‰ import xxx.FileType;
```

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡å·¥ä½œï¼ˆ1å°æ—¶ï¼‰
- [ ] å¤‡ä»½å½“å‰ä»£ç çŠ¶æ€
- [ ] ç»Ÿè®¡æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
- [ ] åˆ¶å®šè¯¦ç»†çš„æ›¿æ¢æ¸…å•

### ç¬¬äºŒé˜¶æ®µï¼šæ˜ å°„å·¥å…·ç»Ÿä¸€ï¼ˆ2-3å°æ—¶ï¼‰
- [ ] æ‰§è¡Œæ‰¹é‡æ›¿æ¢æ“ä½œ
- [ ] éªŒè¯æ›¿æ¢ç»“æœ
- [ ] è¿è¡Œç¼–è¯‘æµ‹è¯•

### ç¬¬ä¸‰é˜¶æ®µï¼šæšä¸¾é‡å‘½åï¼ˆ1-2å°æ—¶ï¼‰
- [ ] æ‰§è¡Œæ–‡ä»¶é‡å‘½å
- [ ] æ›´æ–°ç±»åå’Œå¼•ç”¨
- [ ] éªŒè¯åŠŸèƒ½æ­£å¸¸

### ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•éªŒè¯ï¼ˆ1å°æ—¶ï¼‰
- [ ] ç¼–è¯‘æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•
- [ ] åŠŸèƒ½æµ‹è¯•

## âš ï¸ é£é™©æ§åˆ¶

### å›æ»šæœºåˆ¶
```bash
# æ‰§è¡Œå‰åˆ›å»ºåˆ†æ”¯
git checkout -b mapping-unification

# å¦‚æœ‰é—®é¢˜åŠæ—¶å›æ»š
git checkout main
git branch -D mapping-unification
```

### éªŒè¯è¦ç‚¹
1. **ç¼–è¯‘éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰æ›¿æ¢åèƒ½æ­£å¸¸ç¼–è¯‘
2. **åŠŸèƒ½éªŒè¯**ï¼šé‡ç‚¹æµ‹è¯•æ¶‰åŠå¯¹è±¡æ˜ å°„çš„åŠŸèƒ½æ¨¡å—
3. **æ€§èƒ½éªŒè¯**ï¼šç¡®è®¤æ›¿æ¢åæ€§èƒ½æ— æ˜æ˜¾ä¸‹é™

## ğŸ“Š é¢„æœŸæ”¶ç›Š

### ä»£ç è´¨é‡æå‡
- âœ… ç»Ÿä¸€æ˜ å°„å·¥å…·ä½¿ç”¨ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
- âœ… æ¶ˆé™¤æšä¸¾å‘½åæ··æ·†ï¼Œæé«˜ä»£ç å¯è¯»æ€§
- âœ… å‡å°‘å› å·¥å…·æ··ç”¨å¯¼è‡´çš„æ½œåœ¨bug

### å¼€å‘æ•ˆç‡æå‡
- âœ… æ–°äººæ›´å®¹æ˜“ç†è§£å’Œä½¿ç”¨ç»Ÿä¸€çš„å·¥å…·
- âœ… å‡å°‘ä»£ç å®¡æŸ¥æ—¶çš„å·¥å…·é€‰æ‹©äº‰è®®
- âœ… æé«˜å›¢é˜Ÿå¼€å‘ä¸€è‡´æ€§

## ğŸ› ï¸ å…·ä½“æ“ä½œè„šæœ¬

### PowerShellè„šæœ¬ - æ˜ å°„å·¥å…·æ›¿æ¢
```powershell
# ç»Ÿè®¡éœ€è¦æ›¿æ¢çš„æ–‡ä»¶
$files = Get-ChildItem -Recurse -Include "*.java" | Select-String -Pattern "org\.springframework\.beans\.BeanUtils|com\.baomidou\.mybatisplus\.core\.toolkit\.BeanUtils" -List | Select-Object Path

Write-Host "å‘ç° $($files.Count) ä¸ªæ–‡ä»¶éœ€è¦å¤„ç†"

foreach ($file in $files) {
    Write-Host "å¤„ç†æ–‡ä»¶: $($file.Path)"
    # è¿™é‡Œæ·»åŠ å…·ä½“çš„æ›¿æ¢é€»è¾‘
}
```

### æ‰¹é‡é‡å‘½åè„šæœ¬
```bash
#!/bin/bash
# é‡å‘½åæšä¸¾æ–‡ä»¶
mv graduation-common/src/main/java/com/lw/graduation/common/enums/FileType.java \
   graduation-common/src/main/java/com/lw/graduation/common/enums/FileFormatType.java

mv graduation-domain/src/main/java/com/lw/graduation/domain/enums/document/FileType.java \
   graduation-domain/src/main/java/com/lw/graduation/domain/enums/document/DocumentFileType.java
```

é€šè¿‡ç³»ç»Ÿæ€§çš„å¤„ç†ï¼Œå¯ä»¥æ˜¾è‘—æå‡é¡¹ç›®çš„ä»£ç è´¨é‡å’Œç»´æŠ¤æ•ˆç‡ã€‚